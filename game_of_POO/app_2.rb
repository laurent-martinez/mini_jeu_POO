require 'bundler'
Bundler.require

require_relative 'lib/game'
require_relative 'lib/player'



puts"
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
#####################################################################
########*...,/#########################################*..../########
#####.          *###################################.          *#####
####             ,#################################             ,####
###*              ################################*              ####
###*              ################################*              ####
####             ,#######(                 ########             ,####
#####,          /##########              .##########,          (#####
#######(,   .*###############.         *##############(,.  .*########
#####################################################################
#####################################################################
#####################################################################"


puts"                  Quel sera ton Nom Houuuuman ?                      \n"
user_name = gets.chomp
puts"
...............................................................................
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@%                                 (@@@@@                                 .@@@
@@%                                 (@@@@@                                 .@@@
@@%   .@@@@@@@@@@@@@@@@@@@@@@@@@.   (@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@#   .@@@
@@%   .@@@@@@@@@@@@@@@@@@@@@@@@@.   (@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@#   .@@@
@@%   .@@@@@@&&&&&&&&&&&&&&@@@@@.   (@@@@@    @@@@@@&&&&&&&&&&&&&&@@@@@#   .@@@
@@%   .@@@@@&              @@@@@.   (@@@@@    @@@@@@              /@@@@#   .@@@
@@%   .@@@@@%              @@@@@.   (@@@@@    @@@@@@              /@@@@#   .@@@
@@%   .@@@@@%   .@@@@@@    @@@@@.   (@@@@@    @@@@@@    @@@@@@,   /@@@@#   .@@@
@@%   .@@@@@%   .@@@@@@    @@@@@.   (@@@@@    @@@@@@    @@@@@@,   /@@@@#   .@@@
@@%   ,@@@@@%   .@@@@@@    @@@@@.   (@@@@@    @@@@@@    @@@@@@,   /@@@@#   .@@@
@@%   ,@@@@@%   .@@@@@@    @@@@@.   (@@@@@    @@@@@@    @@@@@@,   /@@@@#   .@@@
@@%             .@@@@@@    @@@@@.   (@@@@@              @@@@@@,   /@@@@#   .@@@
@@%             .@@@@@@    @@@@@.   (@@@@@              @@@@@@,   /@@@@#   .@@@
@@@@@@@@@@@@@@@@@@@@@@@    @@@@@.   (@@@@@@@@@@@@@@@@@@@@@@@@@,   /@@@@#   .@@@
@@@@@@@@@@@@@@@@@@@@@@@    @@@@@.   (@@@@@@@@@@@@@@@@@@@@@@@@@,   /@@@@#   .@@@
@@@@@@@@@@@@@@@@@@@@@@@    @@@@@.   (@@@@@@@@@@@@@@@@@@@@@@@@@,   /@@@@#   .@@@
@@@@@.                                 /@@@@#
@@@@@.                                 /@@@@#
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
"
user = Humanplayer.new("#{user_name}")
enemies = [ Player.new("josiane"), Player.new("josé")]


while (user.life_points > 0) || (player1.life_points > 0 && player2.life_points > 0)

 puts "\n wesh comment va ?
  # --------------------------------------------------------------------------#
  # <#{user.show_state} \n et c'est très bien comme ça :) "
  puts"\n======================================================================"
  puts "           And now Ladies and Gentlemen, Enter the Gungeon !!!"
  puts"======================================================================\n"

  puts "Quelle action veux-tu effectuer ?"
  puts"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"

  puts "[a] - Chercher une meilleure arme"
  puts"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
  puts "[s]- Se soigner"
  puts"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
  puts "\n\nAttaquer un bot :"
  puts"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
  enemies.each_with_index do |enemy, i|
  #j'utilise cette méthode pour ajouter l'indexation automatiquement si on ajoute des enemis dans l'array.
  enemy.life_points > 0 ? (puts"[#{i}]#{enemy.show_state}"):(puts"[#{i}]#{enemy.name} est mort(e)")
  end
  print ">"
  choice = gets.chomp

  puts "----------------------------------------------------------------------"

  case choice
     when "a"
       user.search_weapon
     when "s"
       user.search_health_pack
     when "0", "1"
       enemies[choice.to_i].life_points > 0 ? user.attacks(enemies[choice.to_i]) : (puts "\n\nles dieux te regardent et ils n'aiment pas ce que tu fais. Ils en parlent entres eux et te jugent en rigolant #{user.name}...\n\n")
     else
       puts "-----------------------------niet----------------------------- ! \n\n"
     end

    break if enemies.all? { |enemy| enemy.life_points <= 0 }

    puts "Les autres joueurs attaquent !"

    enemies.each do |enemy|
    #On doit verifier user.life point avant chaque attaque ennemie car si un enemi le tue, la boucle each continuera et des enemis continueront à l'attaquer.
    enemy.attacks(user) if user.life_points > 0 && enemy.life_points > 0
    #On vérifie aussi que l'enemi soit vivant pour qu'il attaque, sinon ça n'a pas de sens.
    end
    #Un enemi peut attaquer uniquement si le joueur est en vie et que l'enemi aussi est en vie
end
#   puts "La partie est finie !"
#
# user.life_points > 0 ? (puts "Bravo ! Tu as gagné !") : (puts "Loser tu as perdu !")
puts"                 --End game, GG everybody--                           \n\n"

    if user.life_points <= 0
   puts"

                    %%%%%                    %%%%%
                    @@@@@                    @@@@@
                    @@@@@                    @@@@@
                         @@@@@          @@@@@
                         @@@@@          @@@@@
                    %%%%%@@@@@%%%%%%%%%%@@@@@%%%%%
                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
               @@@@@@@@@@     @@@@@@@@@@     @@@@@@@@@@
               @@@@@@@@@@     @@@@@@@@@@     @@@@@@@@@@
          #####@@@@@@@@@@#####@@@@@@@@@@#####@@@@@@@@@@#####
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@ .   %@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ..  @@@@@
          @@@@%     %@%&@%@@@@&&@&@&@%@@@&%@@&@@@&.....@@@@@
          @@@@% ..  &@%&@.,  .,.,...,  ,.,. .@%@%@ ..  @@@@@
          @@@@@   ..@@@@@                    @@@@@     @@@@@
          @@@@@     @@@@@                    @@@@@     @@@@@
                         @@@@@@@     @@@@@@@@
                         @@@@@@@     @@@@@@@@
                         .......     ........



                                                       @@@@@
       %@    &@  @@@/  &@   @@    @@     .@@@.  ,@@@% .@
         @@ @&  @#  @@ &@   @@    @@    @@  .@, @%    .@,@@
          %@    @#  @@ &@   @@    @@    @@  .@,   #%@ .@,
          %@    (@./@   @@.@@     @@.... @@.@@  @%.(@ .@@@@@  "

    else user.life_points >= 0
      puts"
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@&@@@@@@&%%%&@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@%%@@@@&%%%@@@@@@@@@@@@@@
@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@
@@@@@@@@@%%%@@@@@@@@&%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@%%%@@@@@@@@@
@@@@@@@@@%%@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@%%%@@@@@@@@@
@@@@@@@@@%%%@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@%%%@@@@@@@@@
@@@@@@@@@@%%%@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@&%%%@@@@@@@@@@
@@@@@@@@@@@%%%%@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@%%%%@@@@@@@@@@@
@@@@@@@@@@@@@%%%%&@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@&@@@%%%%%@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@%%%%%@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@&%%%%%@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@&%%%%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%&%%%%%@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%%%&%%%%%%%%%%%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@%%%%%%%%%%%%%%%%%%&@@@%%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#((((%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@#//////////////////////////////#@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@                 YOU  WIN           ///////@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@////     c est     mucho   super         //&@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@                                     /////@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@#/////  *//////////////////////////// *, ///@@@@@@@@&@@@@@@@@@
@@@@@@@@@@@@@@#///////////////%@@@@&&%%%%%&@@@@@%///////////////&@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@////////***/@@@@@@@@%%%%%%%%%@@@@@@@@@***////////&@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@#//////**@@@@@@@&%%%%%%%%%@@@@@@@@@***/////@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@&///////@@@@@@@@&%%%%%%%%%%%@@@@@@@@@@///////@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@////@@@@@@@@@%%%%%%%%%%%%%%%%%%%@@@@@@@@@@///(@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@/@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
end
